{
  "directive": "Define the request and response types for all three handler types: API Gateway, Custom Event, and Step Functions.\n\n**API Gateway Types (Checklist Items 9, 22)**\n\nIn section 3.1, define:\n- `APIGatewayRequest` type using the AWS Lambda API Gateway proxy integration schema. Use `events.APIGatewayProxyRequest` from github.com/aws/aws-lambda-go/events.\n- `APIGatewayResponse` type using `events.APIGatewayProxyResponse` from the same package.\n- `APIGatewaySuccessResponse` struct with:\n  - `Message` field (string) with JSON tag `message`\n  - `Source` field (string) with JSON tag `source`\n\n**Custom Event Types (Checklist Items 11, 23)**\n\nIn section 3.2, define:\n- `CustomEventRequest` — since this accepts arbitrary JSON, document that handlers receive `json.RawMessage`\n- `CustomEventResponse` struct with:\n  - `Source` field (string) with JSON tag `source`\n  - `Echo` field (json.RawMessage) with JSON tag `echo`\n\n**Step Function Types (Checklist Items 13, 14)**\n\nIn section 3.3, define:\n- `StepFunctionInput` struct with:\n  - `Start` field (int) with JSON tag `start`\n  - `Iterations` field (int) with JSON tag `iterations`\n  - `DelayMs` field (int) with JSON tag `delay_ms`\n  - `Counter` field (int) with JSON tag `counter` — this maintains state across iterations\n- `StepFunctionOutput` struct with:\n  - `Counter` field (int) with JSON tag `counter`\n  - `IterationsRemaining` field (int) with JSON tag `iterations_remaining`\n  - `Complete` field (bool) with JSON tag `complete`\n\n**Import Requirements (Checklist Items 24-26)**\n\nDocument the required imports:\n- Standard library: `context`, `encoding/json`, `errors`\n- AWS Lambda SDK: `github.com/aws/aws-lambda-go/lambda` (runtime)\n- AWS Lambda Events: `github.com/aws/aws-lambda-go/events` (API Gateway types)\n- Version: `github.com/aws/aws-lambda-go v1.51.2` per checklist item 67\n\n**Import Boundary (Checklist Item 68)**\n\nNote in the document: AWS SDK v2 imports (`github.com/aws/aws-sdk-go-v2`) are only allowed in `tests/e2e` package, never in `cmd/` or `internal/` packages.\n\nCreate a new section \"3. Handler Request/Response Types\" with subsections for each handler type. Include all necessary imports and doc comments for each type.",
  "complete": false
}
